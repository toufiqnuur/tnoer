---
import { Image } from 'astro:assets'

interface Props {
	data: {
		icon: string
		image: string
		title: string
		year: string
		description: string
		stack: string[]
		source: string
		url: string
	}
}

const { data } = Astro.props
---

<div
	class="flex flex-col overflow-hidden rounded-3xl border-3 border-white shadow-sm md:shadow-xl dark:border-white/10"
>
	<div class="relative aspect-[16/10] border-b-3 border-white bg-zinc-100 dark:border-zinc-700">
		<Image
			src={'/projects/' + data.image}
			width={800}
			height={500}
			alt={data.title}
			class="dark:brightness-90"
			loading="lazy"
		/>
		<div
			class="absolute -bottom-11 left-4 h-16 w-16 overflow-hidden rounded-3xl border-3 border-white bg-zinc-100 shadow-sm dark:border-zinc-700 dark:shadow-lg"
		>
			<Image
				src={'/projects/' + data.icon}
				width={64}
				height={64}
				alt={data.title + ' icon'}
				loading="lazy"
			/>
		</div>

		<div
			class="absolute right-4 -bottom-5.5 rounded-2xl border-2 border-sky-300 bg-gradient-to-bl from-sky-400 to-sky-300 px-4 py-2 text-sm font-semibold text-sky-50 shadow-sm dark:border-sky-500 dark:from-sky-600 dark:to-sky-500"
		>
			{data.year}
		</div>
	</div>
	<div
		class="flex flex-1 flex-col bg-gradient-to-tl from-blue-50 from-50% to-white p-4 dark:from-zinc-900/75 dark:to-zinc-800/75"
	>
		<div class="mt-8 flex-1">
			<h5 class="mt-1 text-lg font-semibold">{data.title}</h5>
			<p class="mt-3 text-sm font-medium text-zinc-600 md:text-base dark:text-zinc-400">
				{data.description}
			</p>
			<ul class="mt-2">
				{
					data.stack.map((t) => (
						<li class="mt-2 mr-2 inline-block rounded-lg border-t border-l border-blue-100 bg-gradient-to-bl from-blue-200/50 to-white/10 px-2 py-1 text-xs font-medium text-sky-800 uppercase dark:border-zinc-900 dark:from-zinc-800/50 dark:to-zinc-900/10 dark:text-sky-600">
							{t}
						</li>
					))
				}
			</ul>
		</div>
		<div class="mt-6 flex justify-end gap-2">
			<a
				class="rounded-xl border-r border-b border-blue-200 bg-gradient-to-tl from-blue-50 to-white px-2.5 py-1 text-sm font-medium text-blue-500 shadow-md dark:border-zinc-700 dark:from-zinc-900 dark:to-zinc-800 dark:text-blue-400"
				href={data.source}
				target="_blank">Source Code</a
			>
			<a
				class="rounded-xl border-r border-b border-blue-500 bg-gradient-to-tl from-blue-500/90 to-blue-400/90 px-2.5 py-1 text-sm font-medium text-zinc-50 shadow-md dark:from-blue-600/90 dark:to-blue-500/90"
				href={data.url}
				target="_blank">Live View</a
			>
		</div>
	</div>
</div>
